!function(){"use strict";var t,d={},i={};d.setDefaultOptions=function(){i.renderOnLoad=!0,i.useMathJax=!0,i.protectMath=!0,i.style="viewer",i.onRenderPage=void 0,i.commonmarkURL="https://cdnjs.cloudflare.com/ajax/libs/commonmark/0.28.1/commonmark.min.js",i.MathJaxURL="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"};d.setOption=function(e,n){i[e]=n};var e=function(e,n){var t=window.document.createElement("script");t.src=e,t.onload=n,window.document.head.appendChild(t)};d.tokenType={MARK:0,MASK:1},d.tokenLiteral={MASK:"::MASK::"};var m={viewer:["body {","  color: #333333;","}","h1, h2, h3, h4, h5, h6, h7 {","  margin-bottom: 0.5em;","}","a:link, a:visited {","  color: #0000e0;","  text-decoration: underline;","}","a:hover, a:active {","  color: #0000ff;","  text-decoration: underline;","}","img {","  max-width: 100%;","}","@media screen and (min-width: 40em) {","  body {","    background: #444;","  }","  main {","    color: #333;","    background: white;","    padding: 5em 6em;","    max-width: 40em;","    margin: 1em auto;","    box-shadow: 5px 5px 5px #222;","  }","}"].join("\n"),plain:["@media screen and (min-width: 40em) {","  main {","    color: #333;","    max-width: 40em;","    margin-left: auto;","    margin-right: auto;","  }","}"].join("\n"),none:""};d.tokenize=function(e){for(var n,t,o=["\\\\begin{.*}[\\s\\S]*?\\\\end{.*}","\\\\\\[[\\s\\S]*?\\\\\\]","\\\\\\([\\s\\S]*?\\\\\\)","\\\\\\$","\\$\\$(?:[^\\\\]|\\\\.)*?\\$\\$","\\$(?:[^$\\\\]|\\\\.)+?\\$",d.tokenLiteral.MASK].join("|"),a=new RegExp(o,"g"),r=[],i=0;null!==(n=a.exec(e));)n.index>i&&(t=e.substring(i,n.index),r.push([d.tokenType.MARK,t])),r.push([d.tokenType.MASK,n[0]]),i=a.lastIndex;return t=e.substring(i),e.length>i&&r.push([d.tokenType.MARK,t]),r},d.mask=function(e){var n,t,o,a=[],r=[];for(o=0;o<e.length;o++)n=e[o][0],t=e[o][1],n===d.tokenType.MARK?a.push(t):(a.push(d.tokenLiteral.MASK),r.push(t));return{text:a.join(""),tokenValues:r}},d.unmask=function(e,n){var t=new RegExp(d.tokenLiteral.MASK,"g"),o=0;return e.replace(t,function(){return n[o++]})},d.renderCommonMark=function(e){var n=(new t.Parser).parse(e);return(new t.HtmlRenderer).render(n)},d.protectMathAndRenderCommonMark=function(e){var n=d.tokenize(e),t=d.mask(n),o=d.renderCommonMark(t.text);return d.unmask(o,t.tokenValues)},d.render=function(e){return i.protectMath?d.protectMathAndRenderCommonMark(e):d.renderCommonMark(e)},d.renderPage=function(){var e,n,t=window.document.getElementsByTagName("textarea"),o=window.document.createElement("main");0<t.length?(e=t[0].value.trim(),t[0].remove()):(e=window.document.body.innerHTML.trim(),window.document.body.innerHTML=""),void 0!==window.document.title&&""!==window.document.title||(n=e.split("\n",1)[0].replace(/^\s*#*\s*|\s*#*\s*$/g,""),window.document.title=n),window.document.body.appendChild(o);var a=window.document.createElement("style"),r=m[i.style];a.appendChild(window.document.createTextNode(r)),window.document.head.appendChild(a),o.innerHTML=d.render(e),i.useMathJax&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,o]),void 0!==i.onRenderPage&&i.onRenderPage()},d.main=function(){d.setDefaultOptions(),"undefined"!=typeof window?(!function(){var e;for(e in i)"undefined"!=typeof window&&void 0!==window.texme&&void 0!==window.texme[e]&&(i[e]=window.texme[e])}(),e(i.commonmarkURL,function(){t=window.commonmark}),i.useMathJax&&(window.MathJax={tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],processEscapes:!0},TeX:{equationNumbers:{autoNumber:"AMS"}},skipStartupTypeset:!0},e(i.MathJaxURL)),i.renderOnLoad&&(window.onload=d.renderPage),window.texme=d):(t=require("commonmark"),module.exports=d)},d.main()}();